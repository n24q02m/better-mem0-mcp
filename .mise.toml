# Mise configuration for better-mem0-mcp
# https://mise.jdx.dev/
#
# Setup: mise run setup

[tools]
python = "3.13"
node = "24"
uv = "latest"

[settings]
trusted_config_paths = ["."]

[env]
UV_LINK_MODE = "copy"

[tasks.setup]
description = "Setup development environment"
run = [
  "mise install",
  "uv sync --group dev",
  "node scripts/clean-venv.mjs",
  "uv pip install pre-commit",
  "uv run pre-commit install",
  "echo 'Setup complete!'"
]

[tasks.check]
description = "Run all quality checks (ruff + ty)"
run = [
  "uv run ruff check .",
  "uv run ruff format --check .",
  "uv run ty check",
  "echo 'All checks passed!'"
]

[tasks.fix]
description = "Auto-fix formatting and linting issues"
run = [
  "uv run ruff check --fix .",
  "uv run ruff format ."
]

[tasks.test]
description = "Run tests"
run = "uv run pytest"

[tasks.dev]
description = "Run MCP server locally (needs DATABASE_URL + API_KEYS env vars)"
run = "uv run better-mem0-mcp"
